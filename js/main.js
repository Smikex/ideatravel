"use strict";function cityMapInit(){var cityMap=void 0,cityMapCenterLat=$("#city-map").data("lat-center"),cityMapCenterLng=$("#city-map").data("lng-center"),cityMapZoom=$("#city-map").data("zoom"),cityMapMarker=$("#city-map").data("marker"),cityMapOptions={center:new google.maps.LatLng(cityMapCenterLat,cityMapCenterLng),zoom:cityMapZoom,mapTypeControl:!1,streetViewControl:!1,scrollwheel:!1};cityMap=new google.maps.Map(document.getElementById("city-map"),cityMapOptions);for(var infoWindow=new google.maps.InfoWindow({pixelOffset:new google.maps.Size(200,20)}),_loop=function(i){var locIcon=void 0,infoTitle=void 0,infoText=void 0,windowBody=void 0,marker=void 0;locIcon={url:cityMapMarker+"?i="+i},infoTitle=cityMarkers[i].title,infoText=cityMarkers[i].description,windowBody='<div class="point-container"><p class="point-title">'+infoTitle+'</p><p class="point-text">'+infoText+"</p></div>",marker=new google.maps.Marker({position:new google.maps.LatLng(cityMarkers[i].lat,cityMarkers[i].lng),optimized:!1,icon:cityMapMarker+"?i="+i}),function(marker){google.maps.event.addListener(marker,"click",function(e){infoWindow.setContent(windowBody),infoWindow.open(cityMap,marker)})}(marker),google.maps.event.addListener(marker,"mouseover",function(){$('img[src="'+this.icon+'"]').addClass("animate")}),google.maps.event.addListener(marker,"mouseout",function(){$('img[src="'+this.icon+'"]').removeClass("animate")}),marker.setMap(cityMap)},i=0;i<cityMarkers.length;i++)_loop(i)}function contactsMapInit(){var contactsMap=void 0,contactsMapCenterLat=$("#contacts-map").data("lat-center"),contactsMapCenterLng=$("#contacts-map").data("lng-center"),contactsMapZoom=$("#contacts-map").data("zoom"),contactsMapMarker=$("#contacts-map").data("marker"),contactsMapOptions=void 0,locIcon=void 0,marker=void 0;contactsMapOptions={center:new google.maps.LatLng(contactsMapCenterLat,contactsMapCenterLng),zoom:contactsMapZoom,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,scrollwheel:!1},locIcon={url:contactsMapMarker,scaledSize:new google.maps.Size(26,36),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)},marker=new google.maps.Marker({position:new google.maps.LatLng(contactsMapCenterLat,contactsMapCenterLng),optimized:!1,icon:locIcon}),contactsMap=new google.maps.Map(document.getElementById("contacts-map"),contactsMapOptions),marker.setMap(contactsMap)}$(document).ready(function(){function initHamburgerMenu(){var hambBtn=$(".js-hamburger"),hamburgerContainer=$(".hamburger-box"),menu=$("header nav");hamburgerContainer.click(function(){hambBtn.toggleClass(ACTIVE),menu.toggleClass(ACTIVE),hamburgerContainer.toggleClass(ACTIVE)})}function getDate(element){var date;try{date=$.datepicker.parseDate("dd.mm.yy",element.value)}catch(error){date=null}return date}function buyFormInit(){var startDateForm1=$("#form-1-start-date"),endDateForm1=$("#form-1-end-date"),startDateForm2=$("#form-2-start-date"),endDateForm2=$("#form-2-end-date"),dateSelector=$(".buy-form-dates"),dateDropdown=$(".buy-date-selector");$(".buy-now").fancybox({padding:0,wrapCSS:"buy-popup-wrapper",scrolling:"no"}),$(".buy-click").fancybox({padding:0,wrapCSS:"buy-popup-wrapper",scrolling:"no"}),startDateForm1.datepicker({dateFormat:"dd.mm.yy"}).on({change:function(){endDateForm1.datepicker("option","minDate",getDate(this))},focus:function(e){$(this).trigger("blur")}}),endDateForm1.datepicker({dateFormat:"dd.mm.yy"}).on({change:function(){startDateForm1.datepicker("option","maxDate",getDate(this))},focus:function(e){$(this).trigger("blur")}}),startDateForm2.datepicker({dateFormat:"dd.mm.yy"}).on({change:function(){endDateForm2.datepicker("option","minDate",getDate(this))},focus:function(e){$(this).trigger("blur")}}),endDateForm2.datepicker({dateFormat:"dd.mm.yy"}).on({change:function(){startDateForm2.datepicker("option","maxDate",getDate(this))},focus:function(e){$(this).trigger("blur")}}),dateSelector.selectmenu({classes:{"ui-selectmenu-button":"buy-date-button","ui-selectmenu-menu":"buy-date-selector"}}),dateDropdown.css("width",dateSelector.css("width"))}function initScrollLink(){function scrollTo(x,y){$("html,body").stop().animate({scrollTop:$(x).offset().top+y},1e3)}$(".scroll-link").bind("click",function(e){if("#"==$(this).attr("href").substr(0,1))switch(e.preventDefault(),$(this).attr("href")){case"#header":scrollTo("#header",0);break;default:scrollTo($(this).attr("href"),-64)}}),$(window).scroll(function(){$(window).scrollTop()>=600?$(".scroll-link").addClass(ACTIVE):$(".scroll-link").removeClass(ACTIVE)})}function searchFormInitialization(){var startDate=void 0,endDate=void 0;$(".search-select").each(function(i,elem){$(elem).selectmenu({classes:{"ui-selectmenu-button":"search-selector-button","ui-selectmenu-menu":"search-selector"}})}),startDate=$("#start-date-search").datepicker({dateFormat:"dd.mm.yy",defaultDate:"+1w"}).on({change:function(){endDate.datepicker("option","minDate",getDate(this))},focus:function(e){$(this).trigger("blur")}}),endDate=$("#end-date-search").datepicker({dateFormat:"dd.mm.yy",defaultDate:"+1w"}).on({change:function(){startDate.datepicker("option","maxDate",getDate(this))},focus:function(e){$(this).trigger("blur")}})}function floatingMenuInit(){var header=$("#header"),scrollPosition=void 0;$(window).scroll(function(){scrollPosition=$(window).scrollTop(),scrollPosition>600?header.hasClass("floating")||header.addClass("floating"):header.hasClass("floating")&&header.removeClass("floating")})}function scrollInit(){$(".ui-selectmenu-menu").mCustomScrollbar({theme:"dark"})}var ACTIVE="active",BODY=$("body");if(svg4everybody(),initHamburgerMenu(),initScrollLink(),buyFormInit(),window.innerWidth<992&&floatingMenuInit(),BODY.hasClass("index")){var searchFormCutting=function(){var searchForm=$(".search-form"),formContainer=$(".search-form-container .container");formContainer.append(searchForm)},indexSlidersInit=function(){$(".text-slider").each(function(i,elem){$(elem).slick({slidesToShow:1,slidesToScroll:1,prevArrow:$(elem).siblings(".text-slider-arrow_prev"),nextArrow:$(elem).siblings(".text-slider-arrow_next"),fade:!0,draggable:!1})}),window.innerWidth>767&&$("#tours-slider").slick({slidesToShow:3,slidesToScroll:3,infinite:!1,prevArrow:$(".tours-slider-arrow_prev"),nextArrow:$(".tours-slider-arrow_next"),draggable:!1,responsive:[{breakpoint:991,settings:{slidesToShow:2}},{breakpoint:767,settings:"unslick"}]}),$("#comments-slider").slick({slidesToShow:1,slidesToScroll:1,fade:!0,prevArrow:$(".comments-slider-arrow_prev"),nextArrow:$(".comments-slider-arrow_next"),adaptiveHeight:!0})};indexSlidersInit(),searchFormInitialization(),window.innerWidth<768&&searchFormCutting()}else if(BODY.hasClass("event"))$(".tickets-slider").slick({slidesToShow:3,slidesToScroll:3,prevArrow:$(".tickets-slider-arrow_prev"),nextArrow:$(".tickets-slider-arrow_next"),responsive:[{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:"unslick"}]});else if(BODY.hasClass("tour-page")){var datesListToggle=function(){var datesListSwitcher=$(".dates-switcher button"),datesListItem=$(".dates-list"),datesListButton=$(".dates-switcher"),dates=$(".dates-list__col span"),itemsCount=9;datesListSwitcher.click(function(){$(this).toggleClass(ACTIVE),datesListItem.toggleClass(ACTIVE),labelPosition=label.offset().top}),window.innerWidth<768&&(itemsCount=6),dates.length<itemsCount&&datesListButton.addClass("hidden")},tourGalleryInit=function(){$(".tour-slider").slick({slidesToShow:2,slidesToScroll:1,prevArrow:$(".tour-slider-arrow_prev"),nextArrow:$(".tour-slider-arrow_next"),responsive:[{breakpoint:991,settings:{slidesToShow:1}},{breakpoint:767,settings:"unslick"}]}),$(".tour-slider .photo").fancybox({wrapCSS:"buy-popup-wrapper",padding:0,maxHeight:800,maxWidth:"90%"})};setTimeout(function(){function calculateLabelOffset(){var scrollProcent=100*($(window).scrollTop()-labelWay)/(documentHeight-labelWay-windowHeight);return scrollProcent*pageHeight/100}var label=$(".buy-label"),scrollPosition=void 0,labelPosition=label.offset().top,footerHeight=$("#footer").outerHeight(),labelWay=$(".page-content").position().top,windowHeight=$(window).height(),documentHeight=$("html").height()+1e3,pageHeight=$(".page-content").height()+1e3;console.log("labelPosition - ",labelPosition,"footerHeight - ",footerHeight,"labelWay - ",labelWay,"windowHeight - ",windowHeight,"documentHeight - ",documentHeight,"pageHeight - ",pageHeight),window.innerWidth>767&&$(window).scroll(function(){$(window).scrollTop()>labelWay&&$(window).scrollTop()<$(document).height()-windowHeight-footerHeight&&(scrollPosition=$(window).scrollTop(),label.css("top",calculateLabelOffset())),$(window).scrollTop()<=labelWay&&label.css("top","")})},1e3),tourGalleryInit(),datesListToggle()}else if(BODY.hasClass("city-page"))$("#tours-slider").slick({slidesToShow:3,slidesToScroll:3,infinite:!1,prevArrow:$(".tours-slider-arrow_prev"),nextArrow:$(".tours-slider-arrow_next"),draggable:!1,responsive:[{breakpoint:991,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:"unslick"}]});else if(BODY.hasClass("transfer-page")){var initTransferForm=function(){var departureDate=$("#departure-date"),departureRevDate=$("#departure-rev-date");$(".place-select").each(function(i,elem){$(elem).selectmenu({width:"100%",classes:{"ui-selectmenu-button":"search-selector-button","ui-selectmenu-menu":"search-selector place-selector"}})}),$(".type-select").each(function(i,elem){$(elem).selectmenu({width:"100%",classes:{"ui-selectmenu-button":"search-selector-button","ui-selectmenu-menu":"search-selector type-selector"}})}),departureDate.datepicker({dateFormat:"dd.mm.yy",defaultDate:"+1w"}).on({change:function(){departureRevDate.datepicker("option","minDate",getDate(this))},focus:function(e){$(this).trigger("blur")}}),departureRevDate.datepicker({dateFormat:"dd.mm.yy",defaultDate:"+1w"}).on({change:function(){departureDate.datepicker("option","maxDate",getDate(this))},focus:function(e){$(this).trigger("blur")}})},initWayButton=function(){var wayButton=$(".way-button"),reversedDeparture=$(".dep-reversed"),reservedInput=reversedDeparture.find("input"),reservedSelect=reversedDeparture.find("select"),juiCitySelect=$(".dep-reversed .place-select"),juiTypeSelect=$(".dep-reversed .type-select");reversedDeparture.slideUp(0),wayButton.click(function(e){e.preventDefault(),$(reservedInput).attr("disabled",function(_,attr){return!attr}),$(reservedSelect).attr("disabled",function(_,attr){return!attr}),juiCitySelect.siblings(".ui-selectmenu-button").hasClass("ui-state-disabled")?juiCitySelect.selectmenu("enable"):juiCitySelect.selectmenu("disable"),juiTypeSelect.siblings(".ui-selectmenu-button").hasClass("ui-state-disabled")?juiTypeSelect.selectmenu("enable"):juiTypeSelect.selectmenu("disable"),$(this).toggleClass(ACTIVE),reversedDeparture.stop().slideToggle(200)})};initTransferForm(),initWayButton()}else BODY.hasClass("results-page")&&searchFormInitialization();scrollInit()});